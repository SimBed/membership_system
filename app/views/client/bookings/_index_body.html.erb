<%= turbo_frame_tag 'index_body' do %>
  <% provide(:renewal_statement, renewal_statement(@renewal.package_ongoing?, @renewal.from_trial?, @renewal.valid?)) %>
  <% provide(:visit_shop_statement, visit_shop_statement(@renewal.product.rider?)) %>
  <% provide(:renewal_product, @renewal.product&.name(verbose: true)) %>
  <% provide(:renewal_price, @renewal.price(@renewal.product).to_s) %>
  <% provide(:base_price, @renewal.base_price(@renewal.product).price.to_s) %>
  <% provide(:classes_heading, ('Classes coming up' if @renewal.package_ongoing?)) %>

  <div class="booking-section mb-3">
    <%= render 'client_no_classes' if @renewal.package_ongoing? && @group_wkclasses_show.empty? %>
    <div data-controller="booking" data-booking-bookings-open-value = <%= Setting.booking_window_days_before %>>
      <%= render 'group_bookings_table' if @renewal.package_ongoing? && !@group_wkclasses_show.empty? %>
      <%= render 'opengym_bookings_table' if @renewal.package_ongoing? && !@open_gym_wkclasses.empty? %>
    </div >
    <%= render 'other_services' unless @other_services.empty? %>
    <%= render 'my_bookings_table' if @renewal.package_ongoing? %>
    <%= render 'renewal' if @renewal.alert_to_renew? %>
  </div>
  <div id="packages-table">
    <%= render partial: 'client/data_pages/shared/client_packages_table', locals: {booking_details: false, package_modifications: true} %>
  </div>
<% end %>